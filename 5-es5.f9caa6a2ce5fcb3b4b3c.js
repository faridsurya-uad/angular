function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Iab2:function(t,e,n){var a,i;void 0===(i="function"==typeof(a=function(){"use strict";function e(t,e,n){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){c(a.response,e,n)},a.onerror=function(){console.error("could not download file")},a.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function a(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,o,c){var l=i.URL||i.webkitURL,r=document.createElement("a");r.download=o=o||t.name||"download",r.rel="noopener","string"==typeof t?(r.href=t,r.origin===location.origin?a(r):n(r.href)?e(t,o,c):a(r,r.target="_blank")):(r.href=l.createObjectURL(t),setTimeout((function(){l.revokeObjectURL(r.href)}),4e4),setTimeout((function(){a(r)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,i,o){if(i=i||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),i);else if(n(t))e(t,i,o);else{var c=document.createElement("a");c.href=t,c.target="_blank",setTimeout((function(){a(c)}))}}:function(t,n,a,c){if((c=c||open("","_blank"))&&(c.document.title=c.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,a);var l="application/octet-stream"===t.type,r=/constructor/i.test(i.HTMLElement)||i.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||l&&r||o)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var t=d.result;t=b?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=t:location=t,c=null},d.readAsDataURL(t)}else{var s=i.URL||i.webkitURL,u=s.createObjectURL(t);c?c.location=u:location.href=u,c=null,setTimeout((function(){s.revokeObjectURL(u)}),4e4)}});i.saveAs=c.saveAs=c,t.exports=c})?a.apply(e,[]):a)||(t.exports=i)},jkDv:function(t,e,n){"use strict";n.r(e),n.d(e,"AdminModule",(function(){return R}));var a,i,o,c,l=n("ofXK"),r=n("fXoL"),b=n("H+bZ"),d=n("tyNb"),s=n("/t3+"),u=n("bTqV"),p=n("NFeN"),f=n("XhcP"),g=n("MutI"),h=n("FKr1"),m=((i=function(){function t(e,n){_classCallCheck(this,t),this.api=e,this.router=n,this.mode="side"}return _createClass(t,[{key:"ngOnInit",value:function(){this.checkLogin()}},{key:"checkLogin",value:function(){var t=this;this.api.get("bookswithauth/status").subscribe((function(t){}),(function(e){t.router.navigate(["/login"])}))}},{key:"logout",value:function(){confirm("Keluar aplikasi?")&&(localStorage.removeItem("appToken"),window.location.reload())}}]),t}()).\u0275fac=function(t){return new(t||i)(r.Ob(b.a),r.Ob(d.a))},i.\u0275cmp=r.Ib({type:i,selectors:[["app-admin"]],decls:30,vars:10,consts:[["color","primary",1,"example-header"],["mat-icon-button","",3,"click"],[1,"uk-width-expand"],["mat-button","",3,"click"],[1,"admin-container"],[1,"sidenav-left",3,"mode","position","opened","fixedInViewport","fixedTopGap","fixedBottomGap"],["sidenav",""],["routerLink","/admin/dashboard"],["matListIcon",""],["matLine",""],["routerLink","/admin/product"],["mode","side",1,"example-sidenav",3,"position","fixedInViewport","fixedTopGap","fixedBottomGap"],[2,"padding","20px","background-color","#ccc"]],template:function(t,e){if(1&t){var n=r.Vb();r.Sb(0),r.Ub(1,"mat-toolbar",0),r.Ub(2,"button",1),r.cc("click",(function(){return r.tc(n),r.rc(14).toggle()})),r.Ub(3,"mat-icon"),r.Ac(4,"menu"),r.Tb(),r.Tb(),r.Ub(5,"span"),r.Ac(6,"My Angular"),r.Tb(),r.Pb(7,"div",2),r.Ub(8,"small"),r.Ac(9,"Admin"),r.Tb(),r.Ub(10,"button",3),r.cc("click",(function(){return e.logout()})),r.Ac(11,"Keluar"),r.Tb(),r.Tb(),r.Ub(12,"mat-sidenav-container",4),r.Ub(13,"mat-sidenav",5,6),r.Ub(15,"mat-nav-list"),r.Ub(16,"mat-list-item",7),r.Ub(17,"mat-icon",8),r.Ac(18,"dashboard"),r.Tb(),r.Ub(19,"h3",9),r.Ac(20,"Dashboard"),r.Tb(),r.Tb(),r.Ub(21,"mat-list-item",10),r.Ub(22,"mat-icon",8),r.Ac(23,"camera_enhance"),r.Tb(),r.Ub(24,"h3",9),r.Ac(25,"Products"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Pb(26,"mat-sidenav",11,6),r.Ub(28,"mat-sidenav-content",12),r.Pb(29,"router-outlet"),r.Tb(),r.Tb(),r.Rb()}2&t&&(r.Cb(13),r.mc("mode",e.mode),r.lc("position","start")("opened",!0)("fixedInViewport",!0)("fixedTopGap",60)("fixedBottomGap",0),r.Cb(13),r.lc("position","end")("fixedInViewport",!0)("fixedTopGap",60)("fixedBottomGap",0))},directives:[s.a,u.a,p.a,f.b,f.a,g.d,g.b,d.b,g.a,h.j,f.c,d.d],styles:[".sidenav-left[_ngcontent-%COMP%]{width:250px}.admin-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:60px;bottom:0;left:0;right:0}"]}),i),v=((a=function(){function t(){_classCallCheck(this,t),this.isOpen=!0}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||a)},a.\u0275cmp=r.Ib({type:a,selectors:[["app-dashboard"]],decls:0,vars:0,template:function(t,e){},styles:[".open-close-container[_ngcontent-%COMP%]{border:1px solid #ddd;margin-top:1em;padding:20px 20px 0;color:#000;font-weight:700;font-size:20px}.bottom-right[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px}"]}),a),k=n("w55g"),T=n("0IaG"),U=n("kmnG"),w=n("qFsG"),y=n("3Pt+"),C=((c=function(){function t(e,n,a){_classCallCheck(this,t),this.dialogRef=e,this.data=n,this.api=a}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"saveData",value:function(){var t=this;this.loading=!0,null==this.data.id?this.api.post("bookswithauth",this.data).subscribe((function(e){t.dialogRef.close(e),t.loading=!1}),(function(e){t.loading=!1,alert("Tidak dapat menyimpan data")})):this.api.put("bookswithauth/"+this.data.id,this.data).subscribe((function(e){t.dialogRef.close(e),t.loading=!1}),(function(e){t.loading=!1,alert("Tidak dapat memperbarui data")}))}}]),t}()).\u0275fac=function(t){return new(t||c)(r.Ob(T.g),r.Ob(T.a),r.Ob(b.a))},c.\u0275cmp=r.Ib({type:c,selectors:[["app-product-detail"]],decls:28,vars:7,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline",2,"width","100%"],["matInput","",3,"ngModel","ngModelChange"],["matInput","","type","number",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","",3,"disabled","click"]],template:function(t,e){1&t&&(r.Ub(0,"h3",0),r.Ac(1," Detail Produk "),r.Tb(),r.Ub(2,"div",1),r.Ub(3,"mat-form-field",2),r.Ub(4,"mat-label"),r.Ac(5,"Judul"),r.Tb(),r.Ub(6,"input",3),r.cc("ngModelChange",(function(t){return e.data.title=t})),r.Tb(),r.Tb(),r.Ub(7,"mat-form-field",2),r.Ub(8,"mat-label"),r.Ac(9,"Penulis"),r.Tb(),r.Ub(10,"input",3),r.cc("ngModelChange",(function(t){return e.data.author=t})),r.Tb(),r.Tb(),r.Ub(11,"mat-form-field",2),r.Ub(12,"mat-label"),r.Ac(13,"Penerbit"),r.Tb(),r.Ub(14,"input",3),r.cc("ngModelChange",(function(t){return e.data.publisher=t})),r.Tb(),r.Tb(),r.Ub(15,"mat-form-field",2),r.Ub(16,"mat-label"),r.Ac(17,"ISBN"),r.Tb(),r.Ub(18,"input",3),r.cc("ngModelChange",(function(t){return e.data.isbn=t})),r.Tb(),r.Tb(),r.Ub(19,"mat-form-field",2),r.Ub(20,"mat-label"),r.Ac(21,"Harga"),r.Tb(),r.Ub(22,"input",4),r.cc("ngModelChange",(function(t){return e.data.price=t})),r.Tb(),r.Tb(),r.Tb(),r.Ub(23,"div",5),r.Ub(24,"button",6),r.Ac(25,"Batal"),r.Tb(),r.Ub(26,"button",7),r.cc("click",(function(){return e.saveData()})),r.Ac(27),r.Tb(),r.Tb()),2&t&&(r.Cb(6),r.lc("ngModel",e.data.title),r.Cb(4),r.lc("ngModel",e.data.author),r.Cb(4),r.lc("ngModel",e.data.publisher),r.Cb(4),r.lc("ngModel",e.data.isbn),r.Cb(4),r.lc("ngModel",e.data.price),r.Cb(4),r.lc("disabled",e.loading),r.Cb(1),r.Bc(e.loading?"Menyimpan..":"Simpan"))},directives:[T.h,T.e,U.c,U.f,w.b,y.b,y.j,y.l,y.m,T.c,u.a,T.d],styles:[""]}),c),A=((o=function(){function t(e,n,a){_classCallCheck(this,t),this.api=e,this.dialogRef=n,this.dialogData=a}return _createClass(t,[{key:"ngOnInit",value:function(){console.log(this.dialogData)}},{key:"onFileChange",value:function(t){t.target.files.length>0&&(this.selectedFile=t.target.files[0],console.log(this.selectedFile))}},{key:"uploadFile",value:function(){var t=this,e=new FormData;e.append("file",this.selectedFile),this.loadingUpload=!0,this.api.upload(e).subscribe((function(e){t.updateProduct(e),console.log(e)}),(function(e){t.loadingUpload=!1,alert("Gagal mengunggah file")}))}},{key:"updateProduct",value:function(t){1==t.status?(this.updateBook(t),alert("File berhasil diunggah"),this.loadingUpload=!1,this.dialogRef.close()):alert(t.message)}},{key:"updateBook",value:function(t){this.api.put("books/"+this.dialogData.id,{url:t.url}).subscribe((function(t){console.log(t)}))}}]),t}()).\u0275fac=function(t){return new(t||o)(r.Ob(b.a),r.Ob(T.g),r.Ob(T.a))},o.\u0275cmp=r.Ib({type:o,selectors:[["app-file-uploader"]],decls:13,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"uk-flex","uk-flex-middle","uk-flex-center",2,"height","100px","outline","2px dashed #ccc","margin","10px",3,"click"],["type","file","id","file",2,"display","none",3,"change"],["fileInput",""],["mat-dialog-actions","","align","right"],["mat-button","","mat-dialog-close",""],["mat-flat-button","","color","primary",3,"disabled","click"]],template:function(t,e){if(1&t){var n=r.Vb();r.Ub(0,"h1",0),r.Ac(1,"Unggah File"),r.Tb(),r.Ub(2,"div",1),r.Ub(3,"div",2),r.cc("click",(function(){return r.tc(n),r.rc(7).click()})),r.Ub(4,"span"),r.Ac(5),r.Tb(),r.Tb(),r.Ub(6,"input",3,4),r.cc("change",(function(t){return e.onFileChange(t)})),r.Tb(),r.Tb(),r.Ub(8,"div",5),r.Ub(9,"button",6),r.Ac(10,"Cancel"),r.Tb(),r.Ub(11,"button",7),r.cc("click",(function(){return e.uploadFile()})),r.Ac(12),r.Tb(),r.Tb()}2&t&&(r.Cb(5),r.Bc(e.selectedFile?e.selectedFile.name:"Pilih File"),r.Cb(6),r.lc("disabled",e.loadingUpload),r.Cb(1),r.Bc(e.loadingUpload?"Uploading..":"Upload"))},directives:[T.h,T.e,T.c,u.a,T.d],styles:[""]}),o),x=n("Iab2"),M=n("Xa2L"),O=n("Wp6s");function I(t,e){1&t&&(r.Ub(0,"div",2),r.Pb(1,"mat-spinner"),r.Tb())}function B(t,e){if(1&t){var n=r.Vb();r.Ub(0,"button",12),r.cc("click",(function(){r.tc(n);var t=r.gc().$implicit;return r.gc(2).downloadFile(t)})),r.Ub(1,"mat-icon"),r.Ac(2,"download"),r.Tb(),r.Tb()}}function P(t,e){if(1&t){var n=r.Vb();r.Ub(0,"tr"),r.Ub(1,"td"),r.zc(2,B,3,0,"button",9),r.Tb(),r.Ub(3,"td"),r.Ac(4),r.Tb(),r.Ub(5,"td"),r.Ac(6),r.Tb(),r.Ub(7,"td"),r.Ac(8),r.Tb(),r.Ub(9,"td"),r.Ac(10),r.Tb(),r.Ub(11,"td"),r.Ac(12),r.Tb(),r.Ub(13,"td"),r.Ac(14),r.Tb(),r.Ub(15,"td"),r.Ac(16),r.Tb(),r.Ub(17,"td",7),r.Ub(18,"button",10),r.cc("click",(function(){r.tc(n);var t=e.$implicit;return r.gc(2).uploadFile(t)})),r.Ac(19,"Upload"),r.Tb(),r.Ub(20,"button",10),r.cc("click",(function(){r.tc(n);var t=e.$implicit,a=e.index;return r.gc(2).productDetail(t,a)})),r.Ac(21,"Edit"),r.Tb(),r.Ub(22,"button",11),r.cc("click",(function(){r.tc(n);var t=e.$implicit,a=e.index;return r.gc(2).deleteProduct(t.id,a)})),r.Ac(23),r.Tb(),r.Tb(),r.Tb()}if(2&t){var a=e.$implicit,i=e.index,o=r.gc(2);r.Cb(2),r.lc("ngIf",""!=a.url),r.Cb(2),r.Bc(i+1),r.Cb(2),r.Bc(a.title),r.Cb(2),r.Bc(a.author),r.Cb(2),r.Bc(a.publisher),r.Cb(2),r.Bc(a.year),r.Cb(2),r.Bc(a.isbn),r.Cb(2),r.Bc(a.price),r.Cb(6),r.lc("disabled",o.loadingDelete[i]),r.Cb(1),r.Bc(o.loadingDelete[i]?"Deleting..":"Delete")}}function F(t,e){if(1&t){var n=r.Vb();r.Ub(0,"mat-card"),r.Ub(1,"mat-card-header"),r.Ub(2,"mat-card-title"),r.Ac(3),r.Tb(),r.Tb(),r.Ub(4,"mat-card-content"),r.Ub(5,"div",3),r.Pb(6,"span",4),r.Ub(7,"button",5),r.cc("click",(function(){return r.tc(n),r.gc().productDetail({},-1)})),r.Ac(8,"Tambah Produk"),r.Tb(),r.Tb(),r.Ub(9,"table",6),r.Ub(10,"thead"),r.Pb(11,"th"),r.Ub(12,"th"),r.Ac(13,"No"),r.Tb(),r.Ub(14,"th"),r.Ac(15,"Judul"),r.Tb(),r.Ub(16,"th"),r.Ac(17,"Penulis"),r.Tb(),r.Ub(18,"th"),r.Ac(19,"Penerbit"),r.Tb(),r.Ub(20,"th"),r.Ac(21,"Tahun Terbit"),r.Tb(),r.Ub(22,"th"),r.Ac(23,"ISBN"),r.Tb(),r.Ub(24,"th"),r.Ac(25,"Harga"),r.Tb(),r.Ub(26,"th",7),r.Ac(27,"#"),r.Tb(),r.Tb(),r.Ub(28,"tbody"),r.zc(29,P,24,10,"tr",8),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){var a=r.gc();r.Cb(3),r.Bc(a.title),r.Cb(26),r.lc("ngForOf",a.books)}}var D,_,L=[{path:"",component:m,children:[{path:"dashboard",component:v},{path:"product",component:(D=function(){function t(e,n){_classCallCheck(this,t),this.dialog=e,this.api=n,this.books=[],this.loadingDelete={}}return _createClass(t,[{key:"ngOnInit",value:function(){this.title="Product",this.getBooks()}},{key:"getBooks",value:function(){var t=this;this.loading=!0,this.api.get("bookswithauth").subscribe((function(e){t.books=e,t.loading=!1}),(function(e){t.loading=!1}))}},{key:"productDetail",value:function(t,e){var n=this;this.dialog.open(C,{width:"400px",data:t}).afterClosed().subscribe((function(a){a&&(-1==e?n.books.push(a):n.books[e]=t)}))}},{key:"deleteProduct",value:function(t,e){var n=this;confirm("Delete item?")&&(this.loadingDelete[e]=!0,this.api.delete("bookswithauth/"+t).subscribe((function(t){n.books.splice(e,1),n.loadingDelete[e]=!1}),(function(t){n.loadingDelete[e]=!1,alert("Tidak dapat menghapus data")})))}},{key:"uploadFile",value:function(t){this.dialog.open(A,{width:"400px",data:t}).afterClosed().subscribe((function(t){}))}},{key:"downloadFile",value:function(t){x.saveAs("http://api.sunhouse.co.id/bookstore/"+t.url,"filesaya.pdf")}}]),t}(),D.\u0275fac=function(t){return new(t||D)(r.Ob(T.b),r.Ob(b.a))},D.\u0275cmp=r.Ib({type:D,selectors:[["app-product"]],decls:2,vars:2,consts:[["style","height: 300px;","class","uk-flex uk-flex-center uk-flex-middle",4,"ngIf"],[4,"ngIf"],[1,"uk-flex","uk-flex-center","uk-flex-middle",2,"height","300px"],[1,"uk-flex"],[1,"uk-width-expand"],["mat-flat-button","","color","primary",3,"click"],[1,"uk-table","uk-table-middle","uk-table-divider"],["align","right"],[4,"ngFor","ngForOf"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-button","","color","primary",3,"click"],["mat-button","","color","warn",3,"disabled","click"],["mat-icon-button","",3,"click"]],template:function(t,e){1&t&&(r.zc(0,I,2,0,"div",0),r.zc(1,F,30,2,"mat-card",1)),2&t&&(r.lc("ngIf",e.loading),r.Cb(1),r.lc("ngIf",!e.loading))},directives:[l.k,M.b,O.a,O.c,O.e,O.b,u.a,l.j,p.a],styles:[""]}),D)},{path:"",pathMatch:"full",redirectTo:"/admin/dashboard"}]}],R=((_=function t(){_classCallCheck(this,t)}).\u0275mod=r.Mb({type:_}),_.\u0275inj=r.Lb({factory:function(t){return new(t||_)},imports:[[l.c,d.c.forChild(L),k.a,y.f]]}),_)}}]);